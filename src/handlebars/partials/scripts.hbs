{{#unless isProd}}
	<script src='/assets/scripts/main.js'></script>
{{else}}
	<script>

		(function(){
			var win = window,
					hasLocalStorage = 'localStorage' in win && win['localStorage'] !== null,
					jsFile = '/assets/scripts/main.js',
					JS_FILE = 'JS_FILE',
					JS_DATA = 'JS_DATA',

					cssFile = '/assets/styles/main.css',
					CSS_FILE = 'CSS_FILE',
					CSS_DATA = 'CSS_DATA';

			loadFile(jsFile, JS_FILE, JS_DATA, 'script');
			loadFile(cssFile, CSS_FILE, CSS_DATA, 'style');

			function loadFile(url, keyFile, keyData, tagName) {

				if(hasLocalStorage) {


					if(localStorage.getItem(keyFile) !== url) {

						localStorage.setItem(keyFile, url);

						load();

					} else {

						handleFile(tagName, localStorage.getItem(keyData));
					}

				} else {

					load();
				}

				function load() {

					loadUrl(url, function(response) {

						if(hasLocalStorage) {

							localStorage.setItem(keyData, response);
						}

						handleFile(tagName, response);
					});
				}
			}

			function handleFile(tagName, content) {

				var el = document.createElement(tagName);
				el.innerHTML = content;
				document.body.appendChild(el);
			}

			function loadUrl(url, callback) {
				var request = new XMLHttpRequest();
				request.open('GET', url, true);
				request.onreadystatechange = function () {

					if (request.readyState != 4 || request.status != 200) {

						return

					} else {

						callback(request.responseText);
					}
				};
				request.send();
			}
		})();

	</script>
{{/unless}}